[gcode_macro prime_nozzle]
gcode:
  G92 E0
  G0 X200 Y36 E3 Z0.3 F9000
  G0 X100 E12 F600
  G92 E0

[gcode_macro clean_nozzle]
gcode:
  G0 Z15
  {% for wipe in range(8) %}
    {% for coordinate in [(275,4),(235,4)] %}
      G0 X{coordinate[0]} Y{coordinate[1] + 0.25 * wipe} Z9.7 F12000
    {% endfor %}
  {% endfor %}

[gcode_macro print_start1]
gcode:
  home_all
  G0 X308 Y6 F9000
  G0 Z9.7 F9000
  G0 X275 Y6 F9000

[gcode_macro print_start2]
gcode:
  G0 X150 Y6 F9000
  G32
  clean_nozzle
  home_z
  prime_nozzle

[gcode_macro start_gcode]
gcode:
  M104 S{EXTRUDER}
  M140 S{BED}
  print_start1
  M109 S{EXTRUDER}
  M190 S{BED}
  print_start2
default_parameter_EXTRUDER: 220
default_parameter_BED: 60

[gcode_macro stop_gcode]
gcode:
  M104 S0
  M140 S0
  M106 S0
  G91
  G0 Z+5 F1200
  G90
  G0 X150 Y330 F9000