[mcu lcd]
serial: /dev/serial/by-id/usb-1a86_USB2.0-Serial-if00-port0
pin_map: arduino
baud: 250000

[gcode_macro splash]
variable_show: 1
gcode:

[delayed_gcode disable_splash]
initial_duration: 5.
gcode:
  SET_GCODE_VARIABLE MACRO=splash VARIABLE=show VALUE=0

[board_pins lcd]
aliases:
    # Common EXP1 header found on many "all-in-one" ramps clones
    EXP1_1=ar8,  EXP1_3=ar6,  EXP1_5=ar4,  EXP1_7=ar2,  EXP1_9=<GND>,
    EXP1_2=ar9,  EXP1_4=ar7,  EXP1_6=ar5,  EXP1_8=ar3,  EXP1_10=<5V>,
    # EXP2 header
    EXP2_1=ar12, EXP2_3=ar16, EXP2_5=ar18, EXP2_7=<GND>, EXP2_9=<GND>,
    EXP2_2=ar13, EXP2_4=ar17, EXP2_6=ar11, EXP2_8=<RST>,EXP2_10=ar19
    # Pins EXP2_1, EXP2_6, EXP2_2 are also MISO, MOSI, SCK of bus "spi"
    # Note, some boards wire: EXP2_8=<RST>, EXP2_10=ar41

[display]
lcd_type: uc1701
cs_pin: lcd:EXP1_3
a0_pin: lcd:EXP1_4
rst_pin: lcd:EXP1_5
contrast: 63
encoder_pins: ^lcd:EXP2_5, ^lcd:EXP2_3
click_pin: ^!lcd:EXP1_2
display_group: __voron_display
menu_root: __voron_menu
menu_timeout: 30


[display_glyph extruder2]
data:
  0011111111111100
  0011111111111100
  0000001111000000
  0000111111110000
  0000111111110000
  0000011111100000
  0000001111000000
  0000000110000000
  0000000000000000
  0000000110000000
  0000000000000000
  0000000000000000
  0000000000000000
  0000000000000000
  0000000000000000
  0000000000000000

[display_glyph extruder3]
data:
  0011111111111100
  0011111111111100
  0000001111000000
  0000111111110000
  0000111111110000
  0000011111100000
  0000001111000000
  0000000110000000
  0000000000000000
  0011111110000000
  0100000000000000
  0100000000000000
  0011111100000000
  0000000000000000
  0000000000000000
  0000000000000000

[display_glyph extruder1]
data:
  0011111111111100
  0011111111111100
  0000001111000000
  0000111111110000
  0000111111110000
  0000011111100000
  0000001111000000
  0000000110000000
  0000000000000000
  0011111110000000
  0100000000000000
  0100000000000000
  0011111111111100
  0000000000000010
  0000000000000010
  0000000111111100

[display_glyph mzbot]
data:
    1111111001111111
    1111100000011111
    1111000000001111
    1100000000000011
    1000001100110001
    1000011001100001
    1000110011000001
    1001100110000001
    1000000110011001
    1000001100110001
    1000011001100001
    1000110011000001
    1110000000000111
    1111000000001111
    1111100000011111
    1111111001111111

[display_glyph mzbotinv]
data:
  0000001110000000
  0000111111100000
  0001111111110000
  0111111111111100
  1111100111001110
  1111001110011110
  1110011100111110
  1100111001111110
  1111110011100110
  1111100111001110
  1111001110011110
  1110011100111110
  0111111111111100
  0001111111110000
  0000111111100000
  0000001110000000

[display_glyph vd1]
data:
  00000000000000000
  00000000000000011
  00000000000001111
  00000000000111111
  00000000001111111
  00000000111111111
  00000011111111111
  00001111111110000
  00011111111100000
  00011111111000001
  00011111111000011
  00011111110000011
  00011111100000111
  00011111100001110
  00011111000001110
  00011110000011100

[display_glyph vd2]
data:
  0000000000000000
  1100000000000000
  1111000000000000
  1111110000000000
  1111111000000000
  1111111110000000
  1111111111100000
  1110000011111000
  1110000111111100
  1100000111111100
  1000001111111100
  1000011111111100
  0000011111111100
  0000111111111100
  0001111111111100
  0001111111111100

[display_glyph vd3]
data:
  0011111111111000
  0011111111111000
  0011111111110000
  0011111111100000
  0011111111100001
  0011111111000001
  0011111110000011
  0011111110000111
  0001111100000111
  0000011111111111
  0000000111111111
  0000000001111111
  0000000000111111
  0000000000001111
  0000000000000011
  0000000000000000

[display_glyph vd4]
data:
  0011100000111100
  0111000001111100
  0111000011111100
  1110000011111100
  1100000111111100
  1100001111111100
  1000001111111100
  0000011111111100
  0000111111111000
  1111111111100000
  1111111110000000
  1111111000000000
  1111110000000000
  1111000000000000
  1100000000000000
  0000000000000000

[neopixel fysetc_mini12864]
pin: lcd:EXP1_6
chain_count: 3
color_order_GRB: False
initial_RED: 1.0
initial_GREEN: 0.2
initial_BLUE: 0.0

# Same as heater_temperature, without the animations
[display_template _vheater_temperature]
param_heater_name: "extruder"
text:
  {% if param_heater_name in printer %}
    {% set heater = printer[param_heater_name] %}
    # Show glyph
    {% if param_heater_name == "heater_bed" %}
      {% if heater.target|int > 0 %}
        {% set frame = (printer.toolhead.estimated_print_time|int % 2) + 1 %}
        ~bed_heat{frame}~
      {% else %}
        ~bed~
      {% endif %}
    {% else %}
      {% if heater.target|int > 0 %}
        {% set frame = (printer.toolhead.estimated_print_time|int % 3) + 1 %}
        ~extruder{frame}~
      {% else %}
        ~extruder1~
      {% endif %}
    {% endif %}
    # Show temperature
    { "%3.0f" % (heater.temperature,) }
    # Optionally show target
    {% if heater.target and (heater.temperature - heater.target)|abs > 2 %}
      ~right_arrow~
      { "%0.0f" % (heater.target,) }
    {% endif %}
    ~degrees~
  {% endif %}

[display_data __voron_display splash_screen1]
position: 1, 0
text:
  {% if printer["gcode_macro splash"]["show"]|int == 1 %}
    ~vd1~~vd2~
    { "%12s" % ("VoronDesign",) }
  {% endif %}

[display_data __voron_display splash_screen2]
position: 2, 0
text:
  {% if printer["gcode_macro splash"]["show"]|int == 1 %}
    ~vd3~~vd4~
    { "%12s" % ("V2.010",) }
  {% endif %}

[display_data __voron_display extruder]
position: 0, 0
text:
  {% if printer["gcode_macro splash"]["show"]|int == 0 %}
    { render("_vheater_temperature", param_heater_name="extruder") }
  {% endif %}

[display_data __voron_display fan]
position: 0, 10
text:
  {% if printer["gcode_macro splash"]["show"]|int == 0 %}
    {% if 'fan' in printer %}
      {% set speed = printer.fan.speed %}
        ~fan1~
      { "{:>4.0%}".format(speed) }
    {% endif %}
  {% endif %}

[display_data __voron_display bed]
position: 1, 0
text:
  {% if printer["gcode_macro splash"]["show"]|int == 0 %}
    { render("_vheater_temperature", param_heater_name="heater_bed") }
  {% endif %}

[display_data __voron_display progress_text]
position: 1, 10
text:
  {% if printer["gcode_macro splash"]["show"]|int == 0 %}
    {% set progress = printer.display_status.progress %}
    { "{:^6.0%}".format(progress) }
  {% endif %}

[display_data __voron_display progress_text2]
position: 1, 10
text:
  {% if printer["gcode_macro splash"]["show"]|int == 0 %}
    {% set progress = printer.display_status.progress %}
    { draw_progress_bar(1, 10, 6, progress) }
  {% endif %}

[display_data __voron_display printing_time]
position: 2, 10
text:
  {% if printer["gcode_macro splash"]["show"]|int == 0 %}
    {% set ptime = printer.idle_timeout.printing_time %}
    {% set progress = printer.display_status.progress %}
    {% if progress >= 0.05 %}
      {% set msg = "%02d:%02d" % (ptime // (60 * 60), (ptime // 60) % 60) %}
      { "%6s" % (msg,) }
    {% endif %}
  {% endif %}

[display_data __voron_display z_pos]
position: 2, 0
text:
  {% if printer["gcode_macro splash"]["show"]|int == 0 %}
    {% set pos = printer.toolhead.position %}
    { "Z=%-5.2f" % (pos.z) }
  {% endif %}

[display_data __voron_display print_status]
position: 3, 0
text:
  {% if printer["gcode_macro splash"]["show"]|int == 0 %}
    {% if printer.display_status.message %}
       { printer.display_status.message }
    {% else %}
       {"%14s" % ("V2.010 ready!",) }
    {% endif %}
  {% endif %}




[menu __voron_menu]
type: list
name: Main Menu
items:
    __vtune
    __control
    __temp
    __sdcard
    __filament
    __prepare

[menu __vtune]
type: list
enable: toolhead.is_printing
name: Current Print
items:
    .__offsetz
    .__pause
    .__resume
    .__abort
    .__speed
    .__flow

[menu __vtune __offsetz]
type: input
name: "Offset Z:{0:05.3f} "
parameter: gcode.homing_zpos
input_min: -5
input_max: 5
input_step: 0.005
realtime: true
gcode: SET_GCODE_OFFSET Z={0:.3f} MOVE=1

[menu __vtune __pause]
type: command
enable: toolhead.is_printing
name: Pause printing
gcode: M25

[menu __vtune __resume]
type: command
enable: toolhead.is_printing
name: Resume printing
gcode: M24

[menu __vtune __abort]
type: command
enable: toolhead.is_printing
name: Abort printing
gcode:
  PAUSE
  SAVE_GCODE_STATE
  G91
  G0 Z10 F1200
  RESTORE_GCODE_STATE
  RESET_SD

[menu __vtune __speed]
type: input
name: "Speed: {1:3d}%"
parameter: gcode.speed_factor
transform:
    map(0,2,0,200)
input_min: 0
input_max: 2
input_step: 0.01
realtime: true
gcode: M220 S{1:d}

[menu __vtune __flow]
type: input
name: "Flow: {1:3d}%"
parameter: gcode.extrude_factor
transform:
    map(0,2,0,200)
input_min: 0
input_max: 2
input_step: 0.01
realtime: true
gcode: M221 S{1:d}

[menu __control]
type: list
name: "Control"
items:
    .__home
    .__qgl
    .__homez
    .__homexy
    .__move_10mm
    .__move_1mm
    .__move_01mm
    .__disable
    .__fanonoff
    .__fanspeed

[menu __control __qgl]
type: command
name: QGL
gcode: QUAD_GANTRY_LEVEL
enable: !toolhead.is_printing